<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>CanFestival: Heartbeat Object</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CanFestival
   &#160;<span id="projectnumber">3.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__heartbeato.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Heartbeat Object</div>  </div>
<div class="ingroups"><a class="el" href="group__comobj.html">Communication Objects</a></div></div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for Heartbeat Object:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__heartbeato.png" border="0" alt="" usemap="#group____heartbeato"/>
<map name="group____heartbeato" id="group____heartbeato">
<area shape="rect" id="node2" href="group__comobj.html" title="Communication Objects" alt="" coords="7,5,164,33"/></map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga8896f6846e4d020390f6953f3d98aa21"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__heartbeato.html#ga8896f6846e4d020390f6953f3d98aa21">heartbeatInit</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d)</td></tr>
<tr class="memdesc:ga8896f6846e4d020390f6953f3d98aa21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start heartbeat consumer and producer with respect to 0x1016 and 0x1017 object dictionary entries.  <a href="#ga8896f6846e4d020390f6953f3d98aa21"></a><br/></td></tr>
<tr class="memitem:ga1b73047269c2a02065e12af18c6053c7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__heartbeato.html#ga1b73047269c2a02065e12af18c6053c7">heartbeatStop</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d)</td></tr>
<tr class="memdesc:ga1b73047269c2a02065e12af18c6053c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop heartbeat consumer and producer.  <a href="#ga1b73047269c2a02065e12af18c6053c7"></a><br/></td></tr>
<tr class="memitem:gac1fe275595c601d9dfed7cb9f5e3373e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__heartbeato.html#gac1fe275595c601d9dfed7cb9f5e3373e">ConsumerHeartbeatAlarm</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d, UNS32 id)</td></tr>
<tr class="memitem:gab762f7a046fafea414bb71a456c56709"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__heartbeato.html#gab762f7a046fafea414bb71a456c56709">ProducerHeartbeatAlarm</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d, UNS32 id)</td></tr>
<tr class="memitem:gad32067289c0105a381c2dcec74311226"><td class="memItemLeft" align="right" valign="top">UNS32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__heartbeato.html#gad32067289c0105a381c2dcec74311226">OnHeartbeatProducerUpdate</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d, const <a class="el" href="structtd__indextable.html">indextable</a> *unused_indextable, UNS8 unused_bSubindex)</td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<p>The heartbeat mechanism for a device is established through cyclically transmitting a message by a heartbeat producer. One or more devices in the network are aware of this heartbeat message. If the heartbeat cycle fails for the heartbeat producer the local application on the heartbeat consumer will be informed about that event. </p>
<h2>Function Documentation</h2>
<a class="anchor" id="gac1fe275595c601d9dfed7cb9f5e3373e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ConsumerHeartbeatAlarm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstruct__CO__Data.html">CO_Data</a> *&#160;</td>
          <td class="paramname"><em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS32&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The Consumer Timer Callback</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">d</td><td></td></tr>
    <tr><td class="paramname">id</td><td></td></tr>
  </table>
  </dd>
</dl>
<p>call heartbeat error with NodeId </p>

<p>Definition at line <a class="el" href="lifegrd_8c_source.html#l00067">67</a> of file <a class="el" href="lifegrd_8c_source.html">lifegrd.c</a>.</p>

<p>Referenced by <a class="el" href="lifegrd_8c_source.html#l00288">heartbeatInit()</a>, and <a class="el" href="lifegrd_8c_source.html#l00082">proceedNODE_GUARD()</a>.</p>

</div>
</div>
<a class="anchor" id="ga8896f6846e4d020390f6953f3d98aa21"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void heartbeatInit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstruct__CO__Data.html">CO_Data</a> *&#160;</td>
          <td class="paramname"><em>d</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start heartbeat consumer and producer with respect to 0x1016 and 0x1017 object dictionary entries. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*d</td><td>Pointer on a CAN object data structure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="lifegrd_8c_source.html#l00288">288</a> of file <a class="el" href="lifegrd_8c_source.html">lifegrd.c</a>.</p>

<p>References <a class="el" href="lifegrd_8c_source.html#l00067">ConsumerHeartbeatAlarm()</a>, <a class="el" href="lifegrd_8c_source.html#l00281">OnHeartbeatProducerUpdate()</a>, <a class="el" href="lifegrd_8c_source.html#l00173">ProducerHeartbeatAlarm()</a>, and <a class="el" href="timer_8c_source.html#l00057">SetAlarm()</a>.</p>

<p>Referenced by <a class="el" href="lifegrd_8c_source.html#l00355">lifeGuardInit()</a>, and <a class="el" href="lifegrd_8c_source.html#l00281">OnHeartbeatProducerUpdate()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__heartbeato_ga8896f6846e4d020390f6953f3d98aa21_cgraph.png" border="0" usemap="#group__heartbeato_ga8896f6846e4d020390f6953f3d98aa21_cgraph" alt=""/></div>
<map name="group__heartbeato_ga8896f6846e4d020390f6953f3d98aa21_cgraph" id="group__heartbeato_ga8896f6846e4d020390f6953f3d98aa21_cgraph">
<area shape="rect" id="node3" href="group__heartbeato.html#gac1fe275595c601d9dfed7cb9f5e3373e" title="ConsumerHeartbeatAlarm" alt="" coords="159,5,329,33"/><area shape="rect" id="node5" href="group__heartbeato.html#gad32067289c0105a381c2dcec74311226" title="OnHeartbeatProducerUpdate" alt="" coords="151,55,337,83"/><area shape="rect" id="node12" href="group__heartbeato.html#gab762f7a046fafea414bb71a456c56709" title="ProducerHeartbeatAlarm" alt="" coords="388,106,551,134"/><area shape="rect" id="node15" href="group__timer.html#ga11c2616d78f06ed9144ef662f757b128" title="Set an alarm to execute a callback function when expired." alt="" coords="207,157,281,185"/><area shape="rect" id="node7" href="group__heartbeato.html#ga1b73047269c2a02065e12af18c6053c7" title="Stop heartbeat consumer and producer." alt="" coords="419,55,520,83"/><area shape="rect" id="node9" href="group__timer.html#ga991b3cfaac2f201b14d5530f75985c21" title="Delete an alarm before expiring." alt="" coords="600,81,675,109"/><area shape="rect" id="node17" href="group__timer.html#ga4dccc204d52176bd547ab34d6858f5ba" title="Get the time elapsed since latest timer occurence." alt="" coords="412,157,527,185"/><area shape="rect" id="node19" href="group__timer.html#gab8d05dee70f04b5c5190ab00e84da106" title="Set a timerfor a given time." alt="" coords="433,207,505,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga1b73047269c2a02065e12af18c6053c7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void heartbeatStop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstruct__CO__Data.html">CO_Data</a> *&#160;</td>
          <td class="paramname"><em>d</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop heartbeat consumer and producer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*d</td><td>Pointer on a CAN object data structure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="lifegrd_8c_source.html#l00338">338</a> of file <a class="el" href="lifegrd_8c_source.html">lifegrd.c</a>.</p>

<p>References <a class="el" href="timer_8c_source.html#l00103">DelAlarm()</a>.</p>

<p>Referenced by <a class="el" href="lifegrd_8c_source.html#l00362">lifeGuardStop()</a>, and <a class="el" href="lifegrd_8c_source.html#l00281">OnHeartbeatProducerUpdate()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__heartbeato_ga1b73047269c2a02065e12af18c6053c7_cgraph.png" border="0" usemap="#group__heartbeato_ga1b73047269c2a02065e12af18c6053c7_cgraph" alt=""/></div>
<map name="group__heartbeato_ga1b73047269c2a02065e12af18c6053c7_cgraph" id="group__heartbeato_ga1b73047269c2a02065e12af18c6053c7_cgraph">
<area shape="rect" id="node3" href="group__timer.html#ga991b3cfaac2f201b14d5530f75985c21" title="Delete an alarm before expiring." alt="" coords="157,5,232,33"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gad32067289c0105a381c2dcec74311226"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNS32 OnHeartbeatProducerUpdate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstruct__CO__Data.html">CO_Data</a> *&#160;</td>
          <td class="paramname"><em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtd__indextable.html">indextable</a> *&#160;</td>
          <td class="paramname"><em>unused_indextable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&#160;</td>
          <td class="paramname"><em>unused_bSubindex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is called when Index 0x1017 is updated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">d</td><td></td></tr>
    <tr><td class="paramname">unused_indextable</td><td></td></tr>
    <tr><td class="paramname">unused_bSubindex</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="lifegrd_8c_source.html#l00281">281</a> of file <a class="el" href="lifegrd_8c_source.html">lifegrd.c</a>.</p>

<p>References <a class="el" href="lifegrd_8c_source.html#l00288">heartbeatInit()</a>, and <a class="el" href="lifegrd_8c_source.html#l00338">heartbeatStop()</a>.</p>

<p>Referenced by <a class="el" href="lifegrd_8c_source.html#l00288">heartbeatInit()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__heartbeato_gad32067289c0105a381c2dcec74311226_cgraph.png" border="0" usemap="#group__heartbeato_gad32067289c0105a381c2dcec74311226_cgraph" alt=""/></div>
<map name="group__heartbeato_gad32067289c0105a381c2dcec74311226_cgraph" id="group__heartbeato_gad32067289c0105a381c2dcec74311226_cgraph">
<area shape="rect" id="node3" href="group__heartbeato.html#ga8896f6846e4d020390f6953f3d98aa21" title="Start heartbeat consumer and producer with respect to 0x1016 and 0x1017 object dictionary entries..." alt="" coords="248,94,341,122"/><area shape="rect" id="node18" href="group__heartbeato.html#ga1b73047269c2a02065e12af18c6053c7" title="Stop heartbeat consumer and producer." alt="" coords="244,170,345,198"/><area shape="rect" id="node5" href="group__heartbeato.html#gac1fe275595c601d9dfed7cb9f5e3373e" title="ConsumerHeartbeatAlarm" alt="" coords="395,81,565,109"/><area shape="rect" id="node8" href="group__heartbeato.html#gab762f7a046fafea414bb71a456c56709" title="ProducerHeartbeatAlarm" alt="" coords="399,131,561,159"/><area shape="rect" id="node12" href="group__timer.html#ga11c2616d78f06ed9144ef662f757b128" title="Set an alarm to execute a callback function when expired." alt="" coords="443,30,517,58"/><area shape="rect" id="node10" href="group__timer.html#ga991b3cfaac2f201b14d5530f75985c21" title="Delete an alarm before expiring." alt="" coords="633,157,708,185"/><area shape="rect" id="node14" href="group__timer.html#ga4dccc204d52176bd547ab34d6858f5ba" title="Get the time elapsed since latest timer occurence." alt="" coords="613,55,728,83"/><area shape="rect" id="node16" href="group__timer.html#gab8d05dee70f04b5c5190ab00e84da106" title="Set a timerfor a given time." alt="" coords="635,5,707,33"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gab762f7a046fafea414bb71a456c56709"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ProducerHeartbeatAlarm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstruct__CO__Data.html">CO_Data</a> *&#160;</td>
          <td class="paramname"><em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS32&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The Producer Timer Callback</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">d</td><td></td></tr>
    <tr><td class="paramname">id</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="lifegrd_8c_source.html#l00173">173</a> of file <a class="el" href="lifegrd_8c_source.html">lifegrd.c</a>.</p>

<p>References <a class="el" href="can_8h_source.html#l00033">Message::cob_id</a>, <a class="el" href="can_8h_source.html#l00036">Message::data</a>, <a class="el" href="timer_8c_source.html#l00103">DelAlarm()</a>, <a class="el" href="can_8h_source.html#l00035">Message::len</a>, and <a class="el" href="can_8h_source.html#l00034">Message::rtr</a>.</p>

<p>Referenced by <a class="el" href="lifegrd_8c_source.html#l00288">heartbeatInit()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__heartbeato_gab762f7a046fafea414bb71a456c56709_cgraph.png" border="0" usemap="#group__heartbeato_gab762f7a046fafea414bb71a456c56709_cgraph" alt=""/></div>
<map name="group__heartbeato_gab762f7a046fafea414bb71a456c56709_cgraph" id="group__heartbeato_gab762f7a046fafea414bb71a456c56709_cgraph">
<area shape="rect" id="node3" href="group__timer.html#ga991b3cfaac2f201b14d5530f75985c21" title="Delete an alarm before expiring." alt="" coords="219,5,293,33"/></map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Oct 28 2013 09:48:10 for CanFestival by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1.2 </li>
  </ul>
</div>
</body>
</html>
