<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>CanFestival: src/states.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CanFestival
   &#160;<span id="projectnumber">3.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('states_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">states.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;data.h&quot;</code><br/>
<code>#include &quot;sysdep.h&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for states.c:</div>
<div class="dyncontent">
<div class="center"><img src="states_8c__incl.png" border="0" usemap="#src_2states_8c" alt=""/></div>
<map name="src_2states_8c" id="src_2states_8c">
<area shape="rect" id="node3" href="data_8h_source.html" title="data.h" alt="" coords="475,83,531,111"/><area shape="rect" id="node55" href="sysdep_8h_source.html" title="sysdep.h" alt="" coords="816,83,885,111"/><area shape="rect" id="node7" href="def_8h_source.html" title="def.h" alt="" coords="1024,238,1075,266"/><area shape="rect" id="node11" href="can_8h_source.html" title="can.h" alt="" coords="604,238,657,266"/><area shape="rect" id="node14" href="objdictdef_8h_source.html" title="objdictdef.h" alt="" coords="736,161,824,189"/><area shape="rect" id="node16" href="objacces_8h.html" title="Responsible for accessing the object dictionary." alt="" coords="392,238,475,266"/><area shape="rect" id="node19" href="sdo_8h_source.html" title="sdo.h" alt="" coords="5,161,56,189"/><area shape="rect" id="node28" href="pdo_8h_source.html" title="pdo.h" alt="" coords="659,161,712,189"/><area shape="rect" id="node34" href="states_8h_source.html" title="states.h" alt="" coords="131,161,197,189"/><area shape="rect" id="node38" href="lifegrd_8h.html" title="lifegrd.h" alt="" coords="221,161,288,189"/><area shape="rect" id="node42" href="sync_8h_source.html" title="sync.h" alt="" coords="848,161,907,189"/><area shape="rect" id="node44" href="nmtSlave_8h_source.html" title="nmtSlave.h" alt="" coords="312,161,397,189"/><area shape="rect" id="node48" href="nmtMaster_8h_source.html" title="nmtMaster.h" alt="" coords="931,161,1024,189"/><area shape="rect" id="node51" href="emcy_8h.html" title="Declarations of the functions that manage EMCY (emergency) messages." alt="" coords="472,161,533,189"/><area shape="rect" id="node9" href="config_8h_source.html" title="config.h" alt="" coords="1047,315,1113,343"/><area shape="rect" id="node21" href="timer_8h_source.html" title="timer.h" alt="" coords="63,238,124,266"/></map>
</div>
</div>
<p><a href="states_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a915991eebf7c2ac6c929c6c9cfbd7d03"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="states_8c.html#a915991eebf7c2ac6c929c6c9cfbd7d03">switchCommunicationState</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d, s_state_communication *newCommunicationState)</td></tr>
<tr class="memitem:ga95d835785ba564bf6d92e3224c5e3848"><td class="memItemLeft" align="right" valign="top">e_nodeState&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__statemachine.html#ga95d835785ba564bf6d92e3224c5e3848">getState</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d)</td></tr>
<tr class="memdesc:ga95d835785ba564bf6d92e3224c5e3848"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the state of the node.  <a href="group__statemachine.html#ga95d835785ba564bf6d92e3224c5e3848"></a><br/></td></tr>
<tr class="memitem:a3f8975650604cc23582f19a43fd4e518"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="states_8c.html#a3f8975650604cc23582f19a43fd4e518">canDispatch</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d, <a class="el" href="structMessage.html">Message</a> *m)</td></tr>
<tr class="memdesc:a3f8975650604cc23582f19a43fd4e518"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by driver/app when receiving messages.  <a href="#a3f8975650604cc23582f19a43fd4e518"></a><br/></td></tr>
<tr class="memitem:ga0a5004efd1dedbee82a4f21ec5c44fb5"><td class="memItemLeft" align="right" valign="top">UNS8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__statemachine.html#ga0a5004efd1dedbee82a4f21ec5c44fb5">setState</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d, e_nodeState newState)</td></tr>
<tr class="memdesc:ga0a5004efd1dedbee82a4f21ec5c44fb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change the state of the node.  <a href="group__statemachine.html#ga0a5004efd1dedbee82a4f21ec5c44fb5"></a><br/></td></tr>
<tr class="memitem:ga3020f2e5762f6e389a21382ec827b6a6"><td class="memItemLeft" align="right" valign="top">UNS8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__statemachine.html#ga3020f2e5762f6e389a21382ec827b6a6">getNodeId</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d)</td></tr>
<tr class="memdesc:ga3020f2e5762f6e389a21382ec827b6a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the nodId.  <a href="group__statemachine.html#ga3020f2e5762f6e389a21382ec827b6a6"></a><br/></td></tr>
<tr class="memitem:gad47a53979b9311a374d029f7923abbe1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__statemachine.html#gad47a53979b9311a374d029f7923abbe1">setNodeId</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d, UNS8 nodeId)</td></tr>
<tr class="memdesc:gad47a53979b9311a374d029f7923abbe1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define the node ID. Initialize the object dictionary.  <a href="group__statemachine.html#gad47a53979b9311a374d029f7923abbe1"></a><br/></td></tr>
<tr class="memitem:ga6625dc1d0befdf77a48c3a2174d621fc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__statemachine.html#ga6625dc1d0befdf77a48c3a2174d621fc">_initialisation</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d)</td></tr>
<tr class="memdesc:ga6625dc1d0befdf77a48c3a2174d621fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that user app can overload.  <a href="group__statemachine.html#ga6625dc1d0befdf77a48c3a2174d621fc"></a><br/></td></tr>
<tr class="memitem:ga112305df8685d558d958c29be6485370"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__statemachine.html#ga112305df8685d558d958c29be6485370">_preOperational</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d)</td></tr>
<tr class="memdesc:ga112305df8685d558d958c29be6485370"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that user app can overload.  <a href="group__statemachine.html#ga112305df8685d558d958c29be6485370"></a><br/></td></tr>
<tr class="memitem:gacef7b31cae3cace11fd365142bf4ae54"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__statemachine.html#gacef7b31cae3cace11fd365142bf4ae54">_operational</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d)</td></tr>
<tr class="memdesc:gacef7b31cae3cace11fd365142bf4ae54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that user app can overload.  <a href="group__statemachine.html#gacef7b31cae3cace11fd365142bf4ae54"></a><br/></td></tr>
<tr class="memitem:ga574121a4d8cfa3ff22b5fa37823c94cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__statemachine.html#ga574121a4d8cfa3ff22b5fa37823c94cb">_stopped</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d)</td></tr>
<tr class="memdesc:ga574121a4d8cfa3ff22b5fa37823c94cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that user app can overload.  <a href="group__statemachine.html#ga574121a4d8cfa3ff22b5fa37823c94cb"></a><br/></td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>Edouard TISSERANT and Francis DUPIN </dd></dl>
<dl class="section date"><dt>Date</dt><dd>Tue Jun 5 09:32:32 2007 </dd></dl>

<p>Definition in file <a class="el" href="states_8c_source.html">states.c</a>.</p>
</div><h2>Function Documentation</h2>
<a class="anchor" id="a3f8975650604cc23582f19a43fd4e518"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void canDispatch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstruct__CO__Data.html">CO_Data</a> *&#160;</td>
          <td class="paramname"><em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structMessage.html">Message</a> *&#160;</td>
          <td class="paramname"><em>m</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called by driver/app when receiving messages. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">d</td><td></td></tr>
    <tr><td class="paramname">m</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="states_8c_source.html#l00063">63</a> of file <a class="el" href="states_8c_source.html">states.c</a>.</p>

<p>References <a class="el" href="can_8h_source.html#l00033">Message::cob_id</a>, <a class="el" href="emcy_8c_source.html#l00239">proceedEMCY()</a>, <a class="el" href="nmtSlave_8c_source.html#l00044">proceedNMTstateChange()</a>, <a class="el" href="lifegrd_8c_source.html#l00082">proceedNODE_GUARD()</a>, <a class="el" href="pdo_8c_source.html#l00170">proceedPDO()</a>, <a class="el" href="sdo_8c_source.html#l00745">proceedSDO()</a>, and <a class="el" href="sync_8c_source.html#l00166">proceedSYNC()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="states_8c_a3f8975650604cc23582f19a43fd4e518_cgraph.png" border="0" usemap="#states_8c_a3f8975650604cc23582f19a43fd4e518_cgraph" alt=""/></div>
<map name="states_8c_a3f8975650604cc23582f19a43fd4e518_cgraph" id="states_8c_a3f8975650604cc23582f19a43fd4e518_cgraph">
<area shape="rect" id="node3" href="emcy_8h.html#a1d5b0a7a06668cdac55141b7076e0fe5" title="This function is responsible to process an EMCY canopen&#45;message." alt="" coords="179,157,283,185"/><area shape="rect" id="node5" href="nmtSlave_8c.html#a97d175ea168c149c99b01dcde0989743" title="Threat the reception of a NMT message from the master." alt="" coords="147,207,315,235"/><area shape="rect" id="node76" href="group__nodeguardo.html#gab3248945e06e8b05518beddf665f174d" title="This function is responsible to process a canopen&#45;message which seams to be an NMT Error Control Mess..." alt="" coords="923,106,1080,134"/><area shape="rect" id="node81" href="pdo_8c.html#aae7d661cd3ef7adf93a0d08fdb15b7f2" title="Compute a PDO frame reception bus_id is hardware dependant." alt="" coords="953,613,1049,641"/><area shape="rect" id="node89" href="sdo_8c.html#a2a93a7c780472b1d8666d89aa270f661" title="Treat a SDO frame reception call the function sendSDO." alt="" coords="535,917,631,945"/><area shape="rect" id="node118" href="sync_8c.html#ade5dd12cef515c82dae1fddc34d4e711" title="This function is called when the node is receiving a SYNC message (cob&#45;id = 0x80)." alt="" coords="531,410,635,438"/><area shape="rect" id="node7" href="group__statemachine.html#ga3020f2e5762f6e389a21382ec827b6a6" title="Returns the nodId." alt="" coords="364,106,444,134"/><area shape="rect" id="node9" href="group__statemachine.html#gad47a53979b9311a374d029f7923abbe1" title="Define the node ID. Initialize the object dictionary." alt="" coords="364,157,444,185"/><area shape="rect" id="node11" href="group__statemachine.html#ga0a5004efd1dedbee82a4f21ec5c44fb5" title="Change the state of the node." alt="" coords="369,207,439,235"/><area shape="rect" id="node13" href="states_8c.html#a915991eebf7c2ac6c929c6c9cfbd7d03" title="switchCommunicationState" alt="" coords="493,258,672,286"/><area shape="rect" id="node15" href="sdo_8c.html#a1f4f07eccc4890a11ccf4f632da7740b" title="Reset all SDO buffers." alt="" coords="755,613,832,641"/><area shape="rect" id="node21" href="sync_8c.html#a2e0bf669f5b40dfbdda0f12a5ae3631a" title="startSYNC" alt="" coords="752,309,835,337"/><area shape="rect" id="node23" href="sync_8c.html#a41c47dbd59d22bf9bab6cd288cf27164" title="stopSYNC" alt="" coords="960,511,1043,539"/><area shape="rect" id="node39" href="lifegrd_8h.html#aeb614e7da7ad05814be22489ee022b87" title="Start the life guarding service (heartbeat/node guarding). This service handles NMT error control mes..." alt="" coords="748,55,839,83"/><area shape="rect" id="node49" href="lifegrd_8h.html#a7bd167c1fa9ac8e87a4bac7735a58966" title="Stop the life guarding service (heartbeat/node guarding)." alt="" coords="743,359,844,387"/><area shape="rect" id="node57" href="emcy_8h.html#ac1ae9a72b60fc7dfde81d1c70b3f3196" title="Start EMCY consumer and producer." alt="" coords="743,207,844,235"/><area shape="rect" id="node61" href="emcy_8h.html#a7b6a2abe14c9416b18bfbce1665247fb" title="Stop EMCY producer and consumer." alt="" coords="737,5,849,33"/><area shape="rect" id="node63" href="pdo_8c.html#a474688163fc6e1ffe47d56143a051714" title="Initialize PDO feature." alt="" coords="760,461,827,489"/><area shape="rect" id="node71" href="pdo_8c.html#a745aea83aebbc1ec052a98f18586cb35" title="Stop PDO feature." alt="" coords="963,207,1040,235"/><area shape="rect" id="node74" href="nmtSlave_8c.html#aaced28a97b2c256320dfde3c4b36a7d5" title="Transmit the boot&#45;Up frame when the slave is moving from initialization state to pre_operational stat..." alt="" coords="732,157,855,185"/><area shape="rect" id="node17" href="sdo_8c.html#a42d33be015d4c4c83c73f1f0e588f481" title="Reset an unused line." alt="" coords="952,714,1051,742"/><area shape="rect" id="node19" href="sdo_8c.html#aa570e2c8e69527298b428563a38ced9f" title="Initialize some fields of the structure." alt="" coords="1179,765,1264,793"/><area shape="rect" id="node27" href="sync_8c.html#a82595787f641ab85980d83522f1158b0" title="OnCOB_ID_SyncUpdate" alt="" coords="920,309,1083,337"/><area shape="rect" id="node30" href="group__timer.html#ga11c2616d78f06ed9144ef662f757b128" title="Set an alarm to execute a callback function when expired." alt="" coords="1184,106,1259,134"/><area shape="rect" id="node36" href="sync_8c.html#abbcce7b549414c7bc1aa72fa66258b45" title="SyncAlarm" alt="" coords="959,359,1044,387"/><area shape="rect" id="node25" href="group__timer.html#ga991b3cfaac2f201b14d5530f75985c21" title="Delete an alarm before expiring." alt="" coords="1184,435,1259,463"/><area shape="rect" id="node32" href="group__timer.html#ga4dccc204d52176bd547ab34d6858f5ba" title="Get the time elapsed since latest timer occurence." alt="" coords="1355,81,1469,109"/><area shape="rect" id="node34" href="group__timer.html#gab8d05dee70f04b5c5190ab00e84da106" title="Set a timerfor a given time." alt="" coords="1376,131,1448,159"/><area shape="rect" id="node41" href="group__heartbeato.html#ga8896f6846e4d020390f6953f3d98aa21" title="Start heartbeat consumer and producer with respect to 0x1016 and 0x1017 object dictionary entries..." alt="" coords="955,5,1048,33"/><area shape="rect" id="node46" href="group__nodeguardo.html#ga3f81fed5eb843c8baf131915f5826649" title="Start node guarding with respect to 0x100C and 0x100D in the object dictionary." alt="" coords="952,55,1051,83"/><area shape="rect" id="node44" href="group__heartbeato.html#gac1fe275595c601d9dfed7cb9f5e3373e" title="ConsumerHeartbeatAlarm" alt="" coords="1136,30,1307,58"/><area shape="rect" id="node51" href="group__heartbeato.html#ga1b73047269c2a02065e12af18c6053c7" title="Stop heartbeat consumer and producer." alt="" coords="951,410,1052,438"/><area shape="rect" id="node54" href="group__nodeguardo.html#gac259820ffbdf98861fc0e75646fba119" title="Stop producing node guarding messages." alt="" coords="947,461,1056,489"/><area shape="rect" id="node59" href="emcy_8c.html#a11265d2ea7926d22310f1802ae722c5b" title="OnNumberOfErrorsUpdate" alt="" coords="916,157,1087,185"/><area shape="rect" id="node65" href="group__pdo.html#ga95c3686cda4e9e6f7c847d2d0bb88fe8" title="Function iterates on all TPDO and look TPDO transmit type and content change before sending it..." alt="" coords="944,562,1059,590"/><area shape="rect" id="node67" href="pdo_8c.html#a889902163641f6fc8039550cb11ec320" title="Copy all the data to transmit in process_var Prepare the PDO defined at index to be sent *pwCobId : r..." alt="" coords="1183,562,1260,590"/><area shape="rect" id="node69" href="pdo_8c.html#ae468510c9f77f502207d961d26389918" title="CopyBits" alt="" coords="1376,587,1448,615"/><area shape="rect" id="node86" href="group__pdo.html#gae983f9075bd04d0afff7391891a0d7c3" title="Set timer for PDO event." alt="" coords="1147,663,1296,691"/><area shape="rect" id="node91" href="sdo_8c.html#a50665fc13aa385b1b523013cf9166523" title="Called when an internal SDO abort occurs. Release the line * Only if server * If client, the line must be released manually in the core application. The reason of that is to permit the program to read the transfers structure before its reset, because many informations are stored on it : index, subindex, data received or trasmited, ... In all cases, sends a SDO abort." alt="" coords="753,917,833,945"/><area shape="rect" id="node93" href="sdo_8c.html#a3a6660620ea5fb37d311afc3d9a301c2" title="Search for the line, in the transfers array, which contains the beginning of the reception of a fragm..." alt="" coords="939,967,1064,995"/><area shape="rect" id="node98" href="sdo_8c.html#a2f61d90737fb951b4b33c05e9b9810d7" title="Transmit a SDO frame on the bus bus_id." alt="" coords="1183,891,1260,919"/><area shape="rect" id="node100" href="sdo_8c.html#a58d1f9691977617601beb9e5b4123252" title="Search for an unused line in the transfers array to store a new SDO. ie a line which value of the fie..." alt="" coords="736,1018,851,1046"/><area shape="rect" id="node103" href="sdo_8c.html#a7654021041675c1389fd2d1b590ff7cb" title="Bytes in the line structure which must be transmited (or received)" alt="" coords="720,1069,867,1097"/><area shape="rect" id="node106" href="sdo_8c.html#a2b662491084d03f3ad43d280a45ef23e" title="Copy data from an existant line in the argument &quot;* data&quot;." alt="" coords="751,1119,836,1147"/><area shape="rect" id="node108" href="sdo_8c.html#a29427a80fd1aeabff30bf0602fbc220f" title="Copy the data from the object dictionary to the SDO line for a network transfer." alt="" coords="732,1170,855,1198"/><area shape="rect" id="node111" href="sdo_8c.html#a2eb5309dca3a7363da5e5e7230b85d58" title="Copy the data received from the SDO line transfer to the object dictionary." alt="" coords="731,1221,856,1249"/><area shape="rect" id="node113" href="sdo_8c.html#a5efdbb02d210aad29c6d162600d3ae55" title="Add data to an existant line." alt="" coords="751,663,836,691"/><area shape="rect" id="node116" href="sdo_8c.html#a7ca56a650c5daaa24c89370f3b3d7bb0" title="Store in the line structure the nb of bytes which must be transmited (or received)" alt="" coords="721,765,865,793"/><area shape="rect" id="node96" href="sdo_8c.html#a8d0032d382891d6804947e9514fe3720" title="Transmit a SDO error to the client. The reasons may be : Read/Write to a undefined object Read/Write ..." alt="" coords="948,917,1055,945"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a915991eebf7c2ac6c929c6c9cfbd7d03"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void switchCommunicationState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstruct__CO__Data.html">CO_Data</a> *&#160;</td>
          <td class="paramname"><em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">s_state_communication *&#160;</td>
          <td class="paramname"><em>newCommunicationState</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prototypes for internals functions</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">d</td><td></td></tr>
    <tr><td class="paramname">newCommunicationState</td><td></td></tr>
    <tr><td class="paramname">d</td><td></td></tr>
    <tr><td class="paramname">newCommunicationState</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="states_8c_source.html#l00138">138</a> of file <a class="el" href="states_8c_source.html">states.c</a>.</p>

<p>References <a class="el" href="emcy_8c_source.html#l00075">emergencyInit()</a>, <a class="el" href="emcy_8c_source.html#l00087">emergencyStop()</a>, <a class="el" href="lifegrd_8c_source.html#l00355">lifeGuardInit()</a>, <a class="el" href="lifegrd_8c_source.html#l00362">lifeGuardStop()</a>, <a class="el" href="pdo_8c_source.html#l00788">PDOInit()</a>, <a class="el" href="pdo_8c_source.html#l00822">PDOStop()</a>, <a class="el" href="sdo_8c_source.html#l00186">resetSDO()</a>, <a class="el" href="nmtSlave_8c_source.html#l00118">slaveSendBootUp()</a>, <a class="el" href="sync_8c_source.html#l00087">startSYNC()</a>, and <a class="el" href="sync_8c_source.html#l00112">stopSYNC()</a>.</p>

<p>Referenced by <a class="el" href="states_8c_source.html#l00159">setState()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="states_8c_a915991eebf7c2ac6c929c6c9cfbd7d03_cgraph.png" border="0" usemap="#states_8c_a915991eebf7c2ac6c929c6c9cfbd7d03_cgraph" alt=""/></div>
<map name="states_8c_a915991eebf7c2ac6c929c6c9cfbd7d03_cgraph" id="states_8c_a915991eebf7c2ac6c929c6c9cfbd7d03_cgraph">
<area shape="rect" id="node3" href="emcy_8h.html#ac1ae9a72b60fc7dfde81d1c70b3f3196" title="Start EMCY consumer and producer." alt="" coords="244,34,345,62"/><area shape="rect" id="node7" href="emcy_8h.html#a7b6a2abe14c9416b18bfbce1665247fb" title="Stop EMCY producer and consumer." alt="" coords="239,113,351,141"/><area shape="rect" id="node9" href="lifegrd_8h.html#aeb614e7da7ad05814be22489ee022b87" title="Start the life guarding service (heartbeat/node guarding). This service handles NMT error control mes..." alt="" coords="249,290,340,318"/><area shape="rect" id="node45" href="lifegrd_8h.html#a7bd167c1fa9ac8e87a4bac7735a58966" title="Stop the life guarding service (heartbeat/node guarding)." alt="" coords="671,207,772,235"/><area shape="rect" id="node49" href="pdo_8c.html#a474688163fc6e1ffe47d56143a051714" title="Initialize PDO feature." alt="" coords="688,646,755,674"/><area shape="rect" id="node64" href="pdo_8c.html#a745aea83aebbc1ec052a98f18586cb35" title="Stop PDO feature." alt="" coords="256,163,333,191"/><area shape="rect" id="node67" href="sdo_8c.html#a1f4f07eccc4890a11ccf4f632da7740b" title="Reset all SDO buffers." alt="" coords="256,537,333,565"/><area shape="rect" id="node73" href="nmtSlave_8c.html#aaced28a97b2c256320dfde3c4b36a7d5" title="Transmit the boot&#45;Up frame when the slave is moving from initialization state to pre_operational stat..." alt="" coords="233,442,356,470"/><area shape="rect" id="node75" href="sync_8c.html#a2e0bf669f5b40dfbdda0f12a5ae3631a" title="startSYNC" alt="" coords="253,391,336,419"/><area shape="rect" id="node77" href="sync_8c.html#a41c47dbd59d22bf9bab6cd288cf27164" title="stopSYNC" alt="" coords="451,366,533,394"/><area shape="rect" id="node5" href="emcy_8c.html#a11265d2ea7926d22310f1802ae722c5b" title="OnNumberOfErrorsUpdate" alt="" coords="407,5,577,33"/><area shape="rect" id="node11" href="group__heartbeato.html#ga8896f6846e4d020390f6953f3d98aa21" title="Start heartbeat consumer and producer with respect to 0x1016 and 0x1017 object dictionary entries..." alt="" coords="445,315,539,343"/><area shape="rect" id="node31" href="group__nodeguardo.html#ga3f81fed5eb843c8baf131915f5826649" title="Start node guarding with respect to 0x100C and 0x100D in the object dictionary." alt="" coords="443,157,541,185"/><area shape="rect" id="node13" href="group__heartbeato.html#gad32067289c0105a381c2dcec74311226" title="OnHeartbeatProducerUpdate" alt="" coords="628,359,815,387"/><area shape="rect" id="node20" href="group__timer.html#ga11c2616d78f06ed9144ef662f757b128" title="Set an alarm to execute a callback function when expired." alt="" coords="684,258,759,286"/><area shape="rect" id="node26" href="group__heartbeato.html#gac1fe275595c601d9dfed7cb9f5e3373e" title="ConsumerHeartbeatAlarm" alt="" coords="636,309,807,337"/><area shape="rect" id="node28" href="group__heartbeato.html#gab762f7a046fafea414bb71a456c56709" title="ProducerHeartbeatAlarm" alt="" coords="872,410,1035,438"/><area shape="rect" id="node15" href="group__heartbeato.html#ga1b73047269c2a02065e12af18c6053c7" title="Stop heartbeat consumer and producer." alt="" coords="903,359,1004,387"/><area shape="rect" id="node17" href="group__timer.html#ga991b3cfaac2f201b14d5530f75985c21" title="Delete an alarm before expiring." alt="" coords="1128,359,1203,387"/><area shape="rect" id="node22" href="group__timer.html#ga4dccc204d52176bd547ab34d6858f5ba" title="Get the time elapsed since latest timer occurence." alt="" coords="896,258,1011,286"/><area shape="rect" id="node24" href="group__timer.html#gab8d05dee70f04b5c5190ab00e84da106" title="Set a timerfor a given time." alt="" coords="917,309,989,337"/><area shape="rect" id="node33" href="group__nodeguardo.html#ga6ca299d2e686313a85093b8a381af80a" title="OnNodeGuardUpdate" alt="" coords="649,157,793,185"/><area shape="rect" id="node40" href="group__nodeguardo.html#ga58b22c95490ed51c5fd5608ac4f5d148" title="The guardTime &#45; Timer Callback." alt="" coords="661,106,781,134"/><area shape="rect" id="node35" href="group__nodeguardo.html#gac259820ffbdf98861fc0e75646fba119" title="Stop producing node guarding messages." alt="" coords="899,207,1008,235"/><area shape="rect" id="node42" href="group__nmtmaster.html#gaf63689baeabb15103c2b7afe8885c5c4" title="Transmit a NodeGuard message on the network to the slave whose nodeId is node ID." alt="" coords="864,106,1043,134"/><area shape="rect" id="node51" href="group__pdo.html#ga95c3686cda4e9e6f7c847d2d0bb88fe8" title="Function iterates on all TPDO and look TPDO transmit type and content change before sending it..." alt="" coords="1108,679,1223,707"/><area shape="rect" id="node57" href="objacces_8h.html#a11e9f24840d05a6a622955b51f91af53" title="Scan the index of object dictionary. Used only by setODentry and getODentry." alt="" coords="904,679,1003,707"/><area shape="rect" id="node59" href="pdo_8c.html#a3e9718d5f111be6a018a94c681f7ba07" title="TPDO_Communication\l_Parameter_Callback" alt="" coords="876,562,1031,606"/><area shape="rect" id="node53" href="pdo_8c.html#a889902163641f6fc8039550cb11ec320" title="Copy all the data to transmit in process_var Prepare the PDO defined at index to be sent *pwCobId : r..." alt="" coords="1288,679,1365,707"/><area shape="rect" id="node55" href="pdo_8c.html#ae468510c9f77f502207d961d26389918" title="CopyBits" alt="" coords="1415,679,1487,707"/><area shape="rect" id="node62" href="group__pdo.html#gae983f9075bd04d0afff7391891a0d7c3" title="Set timer for PDO event." alt="" coords="1091,570,1240,598"/><area shape="rect" id="node69" href="sdo_8c.html#a42d33be015d4c4c83c73f1f0e588f481" title="Reset an unused line." alt="" coords="443,555,541,583"/><area shape="rect" id="node71" href="sdo_8c.html#aa570e2c8e69527298b428563a38ced9f" title="Initialize some fields of the structure." alt="" coords="679,562,764,590"/><area shape="rect" id="node80" href="sync_8c.html#a82595787f641ab85980d83522f1158b0" title="OnCOB_ID_SyncUpdate" alt="" coords="411,417,573,445"/><area shape="rect" id="node84" href="sync_8c.html#abbcce7b549414c7bc1aa72fa66258b45" title="SyncAlarm" alt="" coords="449,479,535,507"/><area shape="rect" id="node86" href="sync_8c.html#adee64da8e8e5ff05f1ff2be3c7fe2e5f" title="Transmit a SYNC message and trigger sync TPDOs." alt="" coords="679,511,764,539"/><area shape="rect" id="node88" href="sync_8c.html#a097cddb0103b1a8f56ecf976b03936a3" title="Transmit a SYNC message on CAN bus." alt="" coords="885,511,1021,539"/><area shape="rect" id="node90" href="sync_8c.html#ade5dd12cef515c82dae1fddc34d4e711" title="This function is called when the node is receiving a SYNC message (cob&#45;id = 0x80)." alt="" coords="901,629,1005,657"/></map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="states_8c.html">states.c</a></li>
    <li class="footer">Generated on Mon Oct 28 2013 09:48:10 for CanFestival by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1.2 </li>
  </ul>
</div>
</body>
</html>
